const h=document.getElementById("login-form-content"),v=document.getElementById("register-form-content"),f=document.getElementById("show-login"),L=document.getElementById("show-register"),u=document.getElementById("step-1"),g=document.getElementById("step-2"),p=document.getElementById("step-3"),E=document.getElementById("next-step-1"),y=document.getElementById("next-step-2"),k=document.getElementById("back-step-2"),B=document.getElementById("back-step-3"),I=document.getElementById("register-submit");let d=1;function w(){h.classList.remove("hidden"),v.classList.add("hidden")}function S(){h.classList.add("hidden"),v.classList.remove("hidden"),o(1)}function o(e){u.classList.add("form-step-hidden"),g.classList.add("form-step-hidden"),p.classList.add("form-step-hidden"),e===1?u.classList.remove("form-step-hidden"):e===2?g.classList.remove("form-step-hidden"):e===3&&p.classList.remove("form-step-hidden")}function b(e){const n=e.parentElement,t=n.querySelector(".searchable-dropdown-list"),a=n.querySelector('input[type="hidden"]'),c=e.dataset.options.split(",");function l(r=""){t.innerHTML="";const m=c.filter(s=>s.toLowerCase().includes(r.toLowerCase()));if(m.length===0){const s=document.createElement("div");s.textContent="Tidak ada hasil",s.classList.add("searchable-dropdown-list-item","text-gray-500","cursor-default"),t.appendChild(s)}else m.forEach(s=>{const i=document.createElement("div");i.textContent=s,i.classList.add("searchable-dropdown-list-item"),i.addEventListener("click",()=>{e.value=s,a.value=s,t.classList.add("hidden"),e.focus()}),t.appendChild(i)})}e.addEventListener("click",()=>{t.classList.toggle("hidden"),l(e.value)}),e.addEventListener("keyup",()=>{t.classList.remove("hidden"),l(e.value)}),document.addEventListener("click",r=>{n.contains(r.target)||t.classList.add("hidden")}),l()}document.querySelectorAll('.searchable-dropdown-container input[type="text"]').forEach(e=>{b(e)});f.addEventListener("click",e=>{e.preventDefault(),w()});L.addEventListener("click",e=>{e.preventDefault(),S()});E.addEventListener("click",()=>{const e=document.getElementById("selected-role").value,n=document.getElementById("selected-unit").value,t=document.getElementById("selected-vendor").value,a=document.getElementById("selected-position").value;e&&n&&t&&a?(d=2,o(d)):alert("Silakan lengkapi semua field pada Langkah 1.")});y.addEventListener("click",()=>{const e=document.getElementById("register-first-name").value,n=document.getElementById("register-username").value,t=document.getElementById("register-password").value;e&&n&&t?(d=3,o(d)):alert("Silakan lengkapi semua field pada Langkah 2.")});k.addEventListener("click",()=>{d=1,o(d)});B.addEventListener("click",()=>{d=2,o(d)});I.addEventListener("click",e=>{e.preventDefault();const n=document.getElementById("register-dob").value,t=document.getElementById("register-email").value,a=document.getElementById("register-phone").value,c=document.getElementById("agree-terms").checked;n&&t&&a&&c?(alert("Pendaftaran berhasil! Silakan periksa email Anda."),console.log("Register form submitted with all data!"),o(1)):alert("Silakan lengkapi semua field dan setujui syarat & ketentuan.")});
